{"version":3,"sources":["webpack:///./src/views/panel/BusinessDetail.vue?159a","webpack:///./src/views/panel/BusinessDetail.vue?3b8f","webpack:///./src/views/panel/BusinessDetail.vue?1705","webpack:///src/views/panel/BusinessDetail.vue","webpack:///./src/views/panel/BusinessDetail.vue?e37f","webpack:///./src/views/panel/BusinessDetail.vue","webpack:///./src/views/panel/BusinessDetail.vue?053a"],"names":["exports","module","push","i","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","business","_e","attrs","_s","name","address","city","state","average_rating","parseFloat","toFixed","totalReviews","toString","replace","percentage_complete","headers","reviews","options","totalFilteredReviews","loading_reviews","itemsPerPageOptions","showFirstLastPage","on","$event","scopedSlots","_u","key","fn","model","value","callback","$$v","search","expression","$vuetify","breakpoint","sort_by_keys","$set","filter_rating_keys","filter_rating","filter_website_keys","filter_website","proxy","ref","item","getHostname","rating_value","profile_picture","formatDate","date","displayExpansionTitle","domProps","review_text","staticRenderFns","component","VAvatar","VCard","VCardText","VCardTitle","VChip","VCol","VContainer","VDataTable","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VIcon","VProgressLinear","VRating","VRow","VSelect","VSkeletonLoader","VSpacer","VTextField","VToolbar","content","locals","add","default"],"mappings":"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","file":"js/chunk-7fbdbc1a.014a93d7.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"table td{padding:20px!important}.reviewer{padding-bottom:10px}table .v-rating{display:inline-block;margin-left:20px;margin-top:-1px}table h3{display:inline-block;padding-left:8px;padding-top:3px}table .v-chip{float:right}.searching .v-card__title{font-size:15px}.source-logo{float:right;width:22px;height:22px;opacity:.8;margin-right:0;margin-top:8px}.profile-pic{border-radius:50%;width:30px;height:30px;float:left}.v-data-table-header,.v-data-table__mobile-row__header{display:none}header .v-toolbar__content{width:auto}\", \"\"]);\n\n// exports\n","import mod from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessDetail.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('panel-navigation',[_c('h1',{staticClass:\"text-lg font-semibold mb-4\"},[_vm._v(\"Reviews\")]),_c('hr',{staticClass:\"border-b border-gray-100 mb-3\"}),_c('v-container',[_c('v-row',{staticClass:\"text-center\"},[_c('v-col',{staticClass:\"mb-4 col-md-12\"},[(!_vm.business)?_c('v-skeleton-loader',{attrs:{\"type\":\"article\"}}):_vm._e(),(_vm.business)?_c('v-card',{staticClass:\"mb-4\",attrs:{\"elevation\":\"2\"}},[_c('v-card-title',[_vm._v(_vm._s(_vm.business.name)+\" (\"+_vm._s(_vm.business.address)+\", \"+_vm._s(_vm.business.city)+\" \"+_vm._s(_vm.business.state)+\")\")]),_c('v-card-text',[(_vm.business)?_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('v-rating',{attrs:{\"value\":_vm.business.average_rating,\"color\":\"amber\",\"dense\":\"\",\"half-increments\":\"\",\"readonly\":\"\",\"size\":\"28\"}}),(_vm.business)?_c('div',{staticClass:\"grey--text ml-4\"},[_vm._v(\"\\n                \"+_vm._s(parseFloat(_vm.business.average_rating).toFixed(2))+\" (\"+_vm._s(_vm.totalReviews.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"))+\")\\n            \")]):_vm._e()],1):_vm._e()],1)],1):_vm._e(),(_vm.business && _vm.business.percentage_complete < 100)?_c('v-card',{staticClass:\"searching\",attrs:{\"elevation\":\"2\"}},[_c('v-card-title',[_vm._v(\"We are searching for your reviews... Please wait (\"+_vm._s(parseFloat(_vm.business.percentage_complete).toFixed(2))+\"%)\")]),_c('v-card-text',[_c('v-progress-linear',{attrs:{\"color\":\"teal\",\"buffer-value\":\"0\",\"value\":_vm.business.percentage_complete,\"stream\":\"\"}})],1)],1):_vm._e(),(_vm.business)?[_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.reviews,\"options\":_vm.options,\"server-items-length\":_vm.totalFilteredReviews,\"items-per-page\":5,\"loading\":_vm.loading_reviews,\"footer-props\":{\n            itemsPerPageOptions: [5, 10, 20, 30, 40, 50, 100],\n            showFirstLastPage: true\n            }},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"header\",fn:function(){return [_c('v-toolbar',{staticClass:\"mb-1\",attrs:{\"dark\":\"\",\"color\":\"green darken-6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"3\",\"xs\":\"6\"}},[_c('v-text-field',{attrs:{\"clearable\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"prepend-inner-icon\":\"mdi-magnify\",\"label\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),(_vm.$vuetify.breakpoint.smAndUp)?[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"3\",\"xs\":\"6\"}},[_c('v-select',{attrs:{\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"items\":_vm.sort_by_keys,\"prepend-inner-icon\":\"mdi-sort\",\"label\":\"Sort by\"},model:{value:(_vm.options.sortBy),callback:function ($$v) {_vm.$set(_vm.options, \"sortBy\", $$v)},expression:\"options.sortBy\"}})],1),_c('v-spacer'),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"3\",\"xs\":\"6\"}},[_c('v-select',{attrs:{\"clearable\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"items\":_vm.filter_rating_keys,\"prepend-inner-icon\":\"mdi-hexagram\",\"label\":\"Rating\"},model:{value:(_vm.filter_rating),callback:function ($$v) {_vm.filter_rating=$$v},expression:\"filter_rating\"}})],1),_c('v-spacer'),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\",\"sm\":\"3\",\"xs\":\"6\"}},[_c('v-select',{attrs:{\"clearable\":\"\",\"flat\":\"\",\"solo-inverted\":\"\",\"hide-details\":\"\",\"items\":_vm.filter_website_keys,\"prepend-inner-icon\":\"mdi-earth\",\"label\":\"Any Website\",\"item-text\":\"name\",\"item-value\":\"domain\"},model:{value:(_vm.filter_website),callback:function ($$v) {_vm.filter_website=$$v},expression:\"filter_website\"}})],1)]:_vm._e()],2)],1)]},proxy:true},{key:\"item.url\",fn:function(ref){\n            var item = ref.item;\nreturn [(item)?_c('span',[_vm._v(_vm._s(_vm.getHostname(item)))]):_vm._e()]}},{key:\"item.rating_value\",fn:function(ref){\n            var item = ref.item;\nreturn [_c('v-rating',{attrs:{\"value\":item.rating_value,\"color\":\"amber\",\"dense\":\"\",\"half-increments\":\"\",\"readonly\":\"\",\"size\":\"20\"}})]}},{key:\"item.review_text\",fn:function(ref){\n            var item = ref.item;\nreturn [_c('div',{staticClass:\"reviewer\"},[(item.profile_picture)?_c('img',{staticClass:\"profile-pic\",attrs:{\"src\":item.profile_picture}}):_vm._e(),(!item.profile_picture)?_c('v-avatar',{attrs:{\"color\":\"blue\",\"size\":\"30\"}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"white\"}},[_vm._v(\"mdi-account\")])],1):_vm._e(),_c('h3',[_vm._v(_vm._s(item.name))]),_c('v-rating',{attrs:{\"value\":item.rating_value,\"color\":\"amber\",\"dense\":\"\",\"half-increments\":\"\",\"readonly\":\"\",\"size\":\"20\"}}),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"filter\":\"\",\"small\":\"\"}},[_vm._v(\"\\n                \"+_vm._s(_vm.formatDate(item.date))+\"\\n                \")]),_c('v-chip',{staticClass:\"ma-2\",attrs:{\"filter\":\"\",\"small\":\"\",\"color\":\"blue\",\"text-color\":\"white\"}},[_vm._v(\"\\n\\n                \"+_vm._s(_vm.getHostname(item))+\"\\n                \")]),_c('img',{staticClass:\"source-logo\",attrs:{\"src\":require('../../assets/images/review-services/www.' + _vm.getHostname(item) + '.png')}})],1),_c('em',[_c('v-expansion-panels',[_c('v-expansion-panel',[_c('v-expansion-panel-header',[_vm._v(\"\\n                    \"+_vm._s(_vm.displayExpansionTitle(item))+\"\\n                    \")]),_c('v-expansion-panel-content',[_c('div',{domProps:{\"innerHTML\":_vm._s(item.review_text)}})])],1)],1)],1)]}}],null,false,1834844045)})]:_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <panel-navigation>\n    \n        <h1 class=\"text-lg font-semibold mb-4\">Reviews</h1>\n\n        <hr class=\"border-b border-gray-100 mb-3\">\n\n        <v-container>\n            <v-row class=\"text-center\">\n                <v-col class=\"mb-4 col-md-12\">\n                    <v-skeleton-loader v-if=\"!business\" type=\"article\"></v-skeleton-loader>\n\n                    <v-card class=\"mb-4\" v-if=\"business\" elevation=\"2\">\n            <v-card-title>{{ business.name }} ({{ business.address }}, {{ business.city }} {{ business.state }})</v-card-title>\n            <v-card-text>\n                <v-row v-if=\"business\" align=\"center\" class=\"mx-0\">\n                <v-rating\n                    :value=\"business.average_rating\"\n                    color=\"amber\"\n                    dense\n                    half-increments\n                    readonly\n                    size=\"28\"\n                ></v-rating>\n\n                <div v-if=\"business\" class=\"grey--text ml-4\">\n                    {{ parseFloat(business.average_rating).toFixed(2) }} ({{ totalReviews.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") }})\n                </div>\n                </v-row>\n\n            <!-- <div>{{ business.address }}, {{ business.city }} {{ business.state }}</div> -->\n            </v-card-text>\n            </v-card>\n\n            <v-card class=\"searching\" v-if=\"business && business.percentage_complete < 100\" elevation=\"2\">\n            <v-card-title>We are searching for your reviews... Please wait ({{ parseFloat(business.percentage_complete).toFixed(2) }}%)</v-card-title>\n            <v-card-text>\n                <v-progress-linear\n                color=\"teal\"\n                buffer-value=\"0\"\n                :value=\"business.percentage_complete\"\n                stream\n                ></v-progress-linear>\n            </v-card-text>\n            </v-card>\n\n            \n\n                    <template v-if=\"business\">\n            <v-data-table\n                :headers=\"headers\"\n                :items=\"reviews\"\n                :options.sync=\"options\"\n                :server-items-length=\"totalFilteredReviews\"\n                :items-per-page=\"5\"\n                class=\"elevation-1\"\n                :loading=\"loading_reviews\"\n                :footer-props=\"{\n                itemsPerPageOptions: [5, 10, 20, 30, 40, 50, 100],\n                showFirstLastPage: true\n                }\"\n            >\n\n            <template v-slot:header>\n                <v-toolbar\n                    dark\n                    color=\"green darken-6\"\n                    class=\"mb-1\"\n                >\n                    <v-row>\n                    <v-col cols=\"12\" md=\"3\" sm=\"3\" xs=\"6\">\n                        <v-text-field\n                        v-model=\"search\"\n                        clearable\n                        flat\n                        solo-inverted\n                        hide-details\n                        prepend-inner-icon=\"mdi-magnify\"\n                        label=\"Search\"\n                        ></v-text-field>\n                    </v-col>\n                    <template v-if=\"$vuetify.breakpoint.smAndUp\">\n                        <v-col cols=\"12\" md=\"3\" sm=\"3\" xs=\"6\">\n                        <v-select\n                            v-model=\"options.sortBy\"\n                            flat\n                            solo-inverted\n                            hide-details\n                            :items=\"sort_by_keys\"\n                            prepend-inner-icon=\"mdi-sort\"\n                            label=\"Sort by\"\n                        ></v-select>\n                        </v-col>\n                        <v-spacer></v-spacer>\n                        <v-col cols=\"12\" md=\"3\" sm=\"3\" xs=\"6\">\n                        <v-select\n                            v-model=\"filter_rating\"\n                            clearable\n                            flat\n                            solo-inverted\n                            hide-details\n                            :items=\"filter_rating_keys\"\n                            prepend-inner-icon=\"mdi-hexagram\"\n                            label=\"Rating\"\n                        ></v-select>\n                        </v-col>\n                        <v-spacer></v-spacer>\n                        <v-col cols=\"12\" md=\"3\" sm=\"3\" xs=\"6\">\n                        <v-select\n                            v-model=\"filter_website\"\n                            clearable\n                            flat\n                            solo-inverted\n                            hide-details\n                            :items=\"filter_website_keys\"\n                            prepend-inner-icon=\"mdi-earth\"\n                            label=\"Any Website\"\n                            item-text=\"name\"\n                            item-value=\"domain\"\n                        ></v-select>\n                        </v-col>\n                    </template>\n                    </v-row>\n                </v-toolbar>\n                </template>\n                <template v-slot:item.url=\"{ item }\">\n                <span v-if=\"item\">{{ getHostname(item) }}</span>\n                </template>\n\n                <template v-slot:item.rating_value=\"{ item }\">\n                <v-rating\n                    :value=\"item.rating_value\"\n                    color=\"amber\"\n                    dense\n                    half-increments\n                    readonly\n                    size=\"20\"\n                ></v-rating>\n                </template>\n                <template v-slot:item.review_text=\"{ item }\">\n                <div class=\"reviewer\">\n                    <img class=\"profile-pic\" :src=\"item.profile_picture\" v-if=\"item.profile_picture\" />\n\n                    <v-avatar color=\"blue\" size=\"30\" v-if=\"!item.profile_picture\"><v-icon small color=\"white\">mdi-account</v-icon></v-avatar>\n                    <h3>{{ item.name }}</h3>\n\n                    <v-rating\n                    :value=\"item.rating_value\"\n                    color=\"amber\"\n                    dense\n                    half-increments\n                    readonly\n                    size=\"20\"\n                    ></v-rating>\n\n                    <v-chip\n                    class=\"ma-2\"\n                    filter\n                    small\n                    >\n                    {{ formatDate(item.date) }}\n                    </v-chip>\n\n                    <v-chip\n                    class=\"ma-2\"\n                    filter\n                    small\n                    color=\"blue\"\n                    text-color=\"white\"\n                    >\n\n                    {{ getHostname(item) }}\n                    </v-chip>\n                    <img class=\"source-logo\" :src=\"require('../../assets/images/review-services/www.' + getHostname(item) + '.png')\">\n                </div>\n\n                <em>\n                    <v-expansion-panels>\n                    <v-expansion-panel>\n                        <v-expansion-panel-header>\n                        {{ displayExpansionTitle(item) }}\n                        </v-expansion-panel-header>\n                        <v-expansion-panel-content>\n                        <div v-html='item.review_text' />\n                        </v-expansion-panel-content>\n                    </v-expansion-panel>\n                    </v-expansion-panels>\n\n                    <!-- <div v-html='item.review_text' /> -->\n                    <!-- <div v-if=\"read_more[item.id] !== true && item.review_text.length > 150\">\n                    <div v-html='item.review_text.substring(0, 150) + \"...\"' />\n                    <a v-if=\"item.review_text.length > 150\" v-on:click=\"read_more[item.id] = true; testClick();\">more</a>\n                    </div>\n                    <div v-if=\"read_more[item.id] === true\">\n                    <div v-html='item.review_text' />\n                    </div> -->\n                </em>\n                </template>\n            </v-data-table>\n                    </template>\n                </v-col>\n            </v-row>\n        </v-container>\n    </panel-navigation>\n</template>\n\n<script>\n  import BusinessesAPI from '@/plugins/api/endpoints/businesses.js';\n  import PanelNavigation from '@/components/PanelNavigation.vue'\n  import moment from 'moment'\n\n  import config from '@/config';\n\n  export default {\n    components: {\n        PanelNavigation\n    },\n    data () {\n      return {\n        business: null,\n        loading_reviews: true,\n        totalReviews: 0,\n        totalFilteredReviews: 0,\n        reviews: [],\n        options: {\n          sortBy: \"Newest First\"\n        },\n        headers: [\n          // { text: 'Reviewer', value: 'name' },\n          // { text: 'Date', value: 'date', width: 150 },\n          // { text: 'Site', value: 'url', width: 150 },\n          // { text: 'Rating', value: 'rating_value' },\n          { text: 'Reviews', value: 'review_text', html: true, sortable: false }\n        ],\n        read_more: [],\n        percentage_complete: 0,\n        search: '',\n        sort_by_keys: [\n          'Newest First',\n          'Oldest First'\n        ],\n        filter_rating_keys: [\n          \"1\",\n          \"2\",\n          \"3\",\n          \"4\",\n          \"5\",\n          \"Positive\",\n          \"Negative\"\n        ],\n        filter_rating: \"\",\n        filter_website_keys: config.reviewSites,\n        filter_website: \"\"\n      }\n    },\n    mounted() {\n      this.fetchBusinessDetails();\n    },\n    methods: {\n      fetchBusinessDetails: function() {\n        var that = this;\n        BusinessesAPI.get(this.$route.params.id)\n        .then(function( response ) {\n            if (response.data.success) {\n              that.business = response.data.business;\n\n              if (that.business.percentage_complete < 100) {\n                setTimeout(function() {\n                  that.fetchBusinessDetails();\n                  that.getReviews(true);\n                }, 2000);\n              }\n            }\n            else {\n              console.log('failed');\n          }\n        })\n        .catch( function() {\n          console.log('request failed');\n        })\n        .finally( function() {\n\n        });\n      },\n      getReviews: function(ignore_loading) {\n        var that = this;\n        if (typeof(ignore_loading) == \"undefined\")\n          that.loading_reviews = true;\n\n        const { sortBy, sortDesc, page, itemsPerPage } = this.options\n\n        this.loading = true;\n        console.log('get revs');\n\n        BusinessesAPI.getReviews(this.$route.params.id, sortBy, sortDesc, page, itemsPerPage, that.search || \"\", that.filter_rating || \"\", that.filter_website || \"\")\n        .then(function( response ) {\n            console.log('done')\n            that.reviews = response.data.reviews;\n            that.totalReviews = response.data.totalReviews;\n            that.totalFilteredReviews = response.data.totalFilteredReviews;\n            that.loading_reviews = false;\n\n            for (var i in that.reviews) {\n              that.read_more[that.reviews[i].id] = false;\n            }\n        });\n      },\n      testClick: function() {\n        console.log('tc');\n        console.log(this.read_more);\n      },\n      getHostname: function(item) {\n        console.log(item);\n        return new URL(item.url || item.listing.url).hostname.replace(\"www.\", \"\");\n      },\n      formatDate: function(date) {\n        return moment(String(date)).format('MM/DD/YYYY')\n      },\n      displayExpansionTitle(item) {\n        if (item.review_title)\n          return item.review_title;\n\n        if (item.review_text)\n          return item.review_text.substring(0, 50) + '...';\n\n        return 'No text';\n      }\n    },\n    watch: {\n      options: {\n        handler () {\n          if (this.options.sortBy == 'Newest First') {\n            this.options.sortBy = \"date\";\n            this.options.sortDesc = true;\n          }\n          else if (this.options.sortBy == 'Oldest First') {\n            this.options.sortBy = \"date\";\n            this.options.sortDesc = false;\n          }\n          this.getReviews()\n        },\n        deep: true,\n      },\n      search: {\n        handler () {\n          this.options.page = 1\n          this.getReviews()\n        }\n      },\n      filter_rating: {\n        handler () {\n          this.options.page = 1\n          this.getReviews()\n        }\n      },\n      filter_website: {\n        handler () {\n          this.options.page = 1\n          this.getReviews()\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  table td {\n    padding: 20px !important;\n  }\n\n  .reviewer {\n    padding-bottom: 10px;\n  }\n\n  table .v-rating {\n    display: inline-block;\n    margin-left: 20px;\n    margin-top: -1px;\n  }\n\n  table h3 {\n    display: inline-block;\n    padding-left: 8px;\n    padding-top: 3px;\n  }\n\n  table .v-chip {\n    float: right;\n  }\n\n  .searching .v-card__title {\n    font-size: 15px;\n  }\n\n  .source-logo {\n    float: right;\n    width: 22px;\n    height: 22px;\n    opacity: 0.8;\n    margin-right: 0px;\n    margin-top: 8px;\n  }\n\n  .profile-pic {\n    border-radius: 50%;\n    width: 30px;\n    height: 30px;\n    float: left;\n  }\n\n  .v-data-table-header, .v-data-table__mobile-row__header {\n    display: none;\n  }\n  \n  header .v-toolbar__content {\n    width: auto;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BusinessDetail.vue?vue&type=template&id=f9d2c170&\"\nimport script from \"./BusinessDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./BusinessDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BusinessDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRating } from 'vuetify/lib/components/VRating';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAvatar,VCard,VCardText,VCardTitle,VChip,VCol,VContainer,VDataTable,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VProgressLinear,VRating,VRow,VSelect,VSkeletonLoader,VSpacer,VTextField,VToolbar})\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BusinessDetail.vue?vue&type=style&index=0&lang=css&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"ba160068\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"sourceRoot":""}